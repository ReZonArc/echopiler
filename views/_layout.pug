doctype html
html(lang="en")
  head
    base(href=httpRoot)

    block meta
        include meta.pug

    script
      | (function () {
      |   var isIE11 = !!window.MSInputMethodContext && !!document.documentMode;
      |   var storedState = '#{storedStateId}';
      |   if (isIE11) {
      |     if (storedState) {
      |       location.href = '#{httpRoot}noscript/z/' + storedState;
      |     } else {
      |       location.href = '#{httpRoot}noscript';
      |     }
      |   }
      | })();

    //- partially apply theme as soon as possible to minimize the page load flashbang duration when using dark theme
    script
      | (function () {
      |   try {
      |     var settings = window.localStorage.getItem("!{localStoragePrefix}settings") || '{}';
      |     var theme = JSON.parse(settings).theme || (
      |         window.matchMedia ?
      |             (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'default')
      |             : 'dark'
      |     );
      |     if(theme === 'darkplus') theme = 'dark';
      |     document.documentElement.setAttribute('data-theme', theme);
      |   } catch (e) {
      |     document.documentElement.setAttribute('data-theme', 'default');
      |   }
      | })();

  body(class=extraBodyClass)
    block content
        #root
          noscript
            p Without Javascript the regular website is not functional. To go to the noscript version Compiler Explorer&nbsp;
              if storedStateId
                a(href=`${httpRoot}noscript/z/${storedStateId}`) click here
              else
                a(href=`${httpRoot}noscript`) click here

    block printstuff
        #printview Hello

    block footer
        include templates/templates

    block scripts
        script(src=`${httpRoot}client-options.js?hash=${optionsHash}`)
        script(src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js", integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==", crossorigin="anonymous", referrerpolicy="no-referrer")
        script(type="module", src="/@vite/client")
        script(type="module", src="/static/main.ts")
        div#config(extraOptions=encodeURIComponent(compilerExplorerOptions), httpRoot=httpRoot, staticRoot=staticRoot)
